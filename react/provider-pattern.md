# Provider Pattern

> The provider pattern is an elegant solution to share data across the [[react-js]] component tree.

## Examples

```js
const DataContext = React.createContext();

export const DataProvider = ({ children }) => {
  const [state, setState] = React.useState();

  React.useEffect(() => {
    // Initialise state as needed
  });

  return (
    <DataContext.Provider value={{ state, setState }}>
      {children}
    </DataContext.Provider>
  );
};

export const useData = () => {
  const context = React.useContext(DataContext);
  if (!context) throw new Error("useData must be nested within DataProvider");

  const { state, setState } = context;

  const func1 = () => {};
  const func2 = () => {};

  // Exposed api
  return { state, func1, func2 };
};
```

## Resources

- [x] [Wormhole state management](https://swizec.com/blog/wormhole-state-management/)
- [x] [React Context for Dependency Injection Not State Management](https://blog.testdouble.com/posts/2021-03-19-react-context-for-dependency-injection-not-state)

[//begin]: # "Autogenerated link references for markdown compatibility"
[react-js]: ../react-js "React.js"
[//end]: # "Autogenerated link references"